<nz-layout>
  <nz-sider nzWidth="300px" nzTheme="light">
    <app-sidebar [sidebarData]="sideBarData"/>
  </nz-sider>
  <nz-layout class="inner-layout">
    <nz-content>
      <div class="form-container"
           id="sectionDropList"
           cdkDropList
           (cdkDropListDropped)="sectionDrop($event)"
           [cdkDropListData]="sectionList"
           style="width: 100%">
        <nz-card
          *ngFor="let sect of sectionList"
          id="{{sect.sectionId}}"
          [nzTitle]="sectionTitle"
          [nzExtra]="sectionButtons"
          cdkDrag
          cdkDropList
          [cdkDropListOrientation]="sect.layout"
          [cdkDropListConnectedTo]="getSectionIds()"
          [cdkDropListData]="sect.sectionInputs"
          (cdkDropListDropped)="drop($event)"
          class="element-list p-3"
          style="padding: 0; width: 900px"
          [nzBodyStyle]="{'padding-bottom':'24px'}"
        >
          <ng-template #sectionTitle>
            <div style="border-bottom: 1px solid lightgray; padding-bottom: 20px">
              Section
              <span style="color: red"> [ID: {{sect.sectionId}} | Layout: {{sect.layout}}]</span>
            </div>
          </ng-template>
          <ng-template #sectionButtons>
            <div style="border-bottom: 1px solid lightgray; padding-bottom: 12px">
              <button
                nz-button nzType="default"
                nzShape="circle"
                (click)="sectionLayoutChange(sect)"
              ><span nz-icon nzType="redo" nzTheme="outline"></span></button>
              <button
                style="margin-left: 10px"
                nz-button nzType="default" nzDanger
                nzShape="circle"
                (click)="sectionRemove(sect)"
              ><span nz-icon nzType="delete" nzTheme="outline"></span></button>
            </div>
          </ng-template>

          <app-input-holder
            class="element-box"
            *ngFor="let item of sect.sectionInputs"
            cdkDrag
            [cdkDragData]="item"
            nz-card-grid
            style="padding: 0"
            [ngStyle]="getSectionInputStyle(sect)"

            [formInput]="item"
            (removeComponentEvent)="removeComponent(sect, $event)"
            (edited)="onValueChanged(sect, $event)"/>
        </nz-card>
      </div>
    </nz-content>
  </nz-layout>
</nz-layout>
