<nz-content>
  <div class="toolbar">
    <div>
      <button nz-button (click)="fileInput.click()">
        <span nz-icon nzType="upload" nzTheme="outline"></span>
        {{ 'UPLOAD_JSON' | translate }}
      </button>
      <input #fileInput type="file" (change)="onFileSelected($event)" style="display: none" />
    </div>
    <div *ngIf="!isListView; else cardView" (click)="toggleView()">
      <span nz-icon nzType="unordered-list" nzTheme="outline"></span>
      <span>{{ 'LIST_VIEW' | translate }}</span>
      <i style="margin-left: 5px" nz-icon nzType="question-circle" nz-tooltip nzTooltipTitle="{{ 'LIST_VIEW_TOOLTIP' | translate }}"></i>
    </div>
    <ng-template #cardView>
      <div (click)="toggleView()">
        <span nz-icon nzType="appstore" nzTheme="outline"></span>
        <span>{{ 'CARD_VIEW' | translate }}</span>
        <i style="margin-left: 5px" nz-icon nzType="question-circle" nz-tooltip nzTooltipTitle="{{ 'CARD_VIEW_TOOLTIP' | translate }}"></i>
      </div>
    </ng-template>
  </div>

  <div class="view" *ngIf="isListView; else cardViewComponent">
    <div>
      <h3>{{ 'QUESTIONNAIRES' | translate }}</h3>
      <button (click)="createProject(projectTypes.QUESTIONNAIRE)" nz-button>
        <span nz-icon nzType="plus" nzTheme="outline"></span> {{ 'NEW' | translate }}
      </button>
    </div>

    <app-list-view
      (deleteProject)="deleteProject($event)"
      (editProject)="editProject($event)"
      [projects]="projects$"
      [type]="projectTypes.QUESTIONNAIRE"
    ></app-list-view>

    <div>
      <h3>{{ 'TESTS' | translate }}</h3>
      <button (click)="createProject(projectTypes.TEST)" nz-button>
        <span nz-icon nzType="plus" nzTheme="outline"></span> {{ 'NEW' | translate }}
      </button>
    </div>

    <app-list-view
      (deleteProject)="deleteProject($event)"
      (editProject)="editProject($event)"
      [projects]="projects$"
      [type]="projectTypes.TEST"
    ></app-list-view>
  </div>

  <ng-template #cardViewComponent>
    <div class="view">
      <div>
        <h3>{{ 'QUESTIONNAIRES' | translate }}</h3>
      </div>

      <app-card-view
        [projects]="projects$"
        [type]="projectTypes.QUESTIONNAIRE"
        (createProject)="createProject($event)"
        (deleteProject)="deleteProject($event)"
        (editProject)="editProject($event)"
      ></app-card-view>

      <div>
        <h3>{{ 'TESTS' | translate }}</h3>
      </div>

      <app-card-view
        [projects]="projects$"
        [type]="projectTypes.TEST"
        (createProject)="createProject($event)"
        (deleteProject)="deleteProject($event)"
        (editProject)="editProject($event)"
      ></app-card-view>
    </div>
  </ng-template>
</nz-content>
